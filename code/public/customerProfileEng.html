<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartKart Customer Login</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<body id = "mainPageBG">
    <div id = "header">
        <a class = "links" href = "mainPageEng.html">Go Back</a>
        <a class = "links createaccount" href = "createAccount.html">Create an Account</a>
        <section id = "boxLayout">
            <div class ="profileImgContainer">
                <img class ="profile userPage" alt = "Profile" src = "img/profile.png"> 
                    <div class = "input-container">
                        <form id="logID" name = "loginForm" action="/login" method = "post">
                            <label for = "email">Email:</label>
                            <input id="emailID" type ="text" name = "email" placeholder = "Enter email">
                            <br>
                            <label for = "password"> Password: </label>
                            <input id="passwordID" type = "acc_password" name = "password" placeholder="*******">
                            <br>
                            <button id="submitButton" type="submit" value="Login">Login </button>
                        </form>
                    </div>
            </div>        
        </section>
    </div>
    <script>
fetch('/data')
      .then(async function(response) {
        const res = await response;
        if (res) {
          res.json().then((data) => {
              console.log("data: ", data);
            if (!data.loggedIn) {
              alert("Invalid Credentials!")
            }
          })
        }
      })
      .catch(function(err) {
        console.log('Something went wrong.', err);
      });
    </script>
</body>
</html>